import re

reg = re.compile('^@begin .*@end\s*$', re.M | re.S)
start = 0
match = re.search(text, start)
while match:
    entry = match.group()
    # make sure there's no broken entries
    start = match.end()
    match = re.search(text, start)
